<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/accountforms.css') }}">
</head>

{% extends "base.html" %}
{% block content %}
{{ super() }}
<!-- Nav bar-->

<div id="form-wrap">
  {% if form.errors %}
  <ul class="errors">
    {% for field_name, field_errors in form.errors|dictsort if field_errors %}
    {% for error in field_errors %}
    <li>{{ form[field_name].label }}: {{ error }}</li>
    {% endfor %}
    {% endfor %}
  </ul>
  {% endif %}
  <form name="resetForm" action="" method=post class="form-horizontal">
    {{ form.csrf_token }}
    <h2>Reset Password</h2>
    <input type='hidden' name='email' value={{ email }}>
    <input type='hidden' name='pw' value={{ pw }}>
    <div class="control-group">
      <div class="controls">
        {{ form.password(class_="input-xLarge", placeholder="Password") }}
      </div>
    </div>

    <div class="control-group">
      <div class="controls">
        {{ form.password_confirm(class_="input-xLarge", placeholder="Confirm Password") }}
      </div>
    </div>
    <span id='message'></span>

    <div class="control-group">
      <div class="controls">
        <button type="submit" class="btn btn-success">Submit</button>
      </div>
    </div>

  </form>
</div>

<script>

  /* verify passwords match client side for convenience*/
  $('#password, #password_confirm').on('keyup', function () {
    if ($('#password').val() == $('#password_confirm').val()) {
      $('#message').html('').css('color', 'white');
    } else
      $('#message').html('Passwords do not match').css('color', 'white');
  });

</script>

{% endblock %}

</html>